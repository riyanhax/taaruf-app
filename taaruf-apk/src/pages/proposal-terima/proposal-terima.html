<!--
  Generated template for the HistoryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title></ion-title>
  </ion-navbar>

</ion-header>

<ion-content *ngIf="!returned" padding >
		<ion-spinner name="crescent" class="midscreen-spinner"></ion-spinner> 
</ion-content>

<ion-content >
	<section class="with-padding" *ngIf="returned">
		<h2>
			Riwayat Proposal Diterima
		</h2>
		
		<div class="section-body">
	      <p *ngIf="list?.length < 1 && returned == true;" class="empty-message">Belum ada kiriman proposal untuk anda</p>

	      <ion-card *ngFor="let proposal of list; let i=index " (click)="detail(proposal)" [ngClass]="proposal.readed == 'yes' ? 'primary' : 'warning' ">
	        <ion-card-content>
	          <ion-card-title>
	            Diterima dari {{proposal.data.nama_asli.status_hidden == 'true' ? proposal.data.nama_samaran.data_varchar : proposal.data.nama_asli.data_varchar}}
	          </ion-card-title>
	          <ion-row>
	            <ion-col>Tanggal</ion-col>
	            <ion-col>{{proposal.created_at}}</ion-col>
	          </ion-row>
	          <ion-row>
	            <ion-col>Pengirim</ion-col>
	            <ion-col>{{proposal.data.nama_asli.status_hidden == 'true' ? proposal.data.nama_samaran.data_varchar : proposal.data.nama_asli.data_varchar | titlecase}}</ion-col>
	          </ion-row>
	          <ion-row>
	            <ion-col>Status</ion-col>
	            <ion-col>{{proposal.readed == 'yes' ? 'Dibaca' : 'Belum Dibaca'}}</ion-col>
	          </ion-row>
	        </ion-card-content>
	      </ion-card>

		</div>
	</section>

	<ion-infinite-scroll (ionInfinite)="doInfinite($event)">
   		<ion-infinite-scroll-content></ion-infinite-scroll-content>
 	</ion-infinite-scroll>
</ion-content>
